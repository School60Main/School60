{% extends 'base.html' %}
{% block title %}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>üì¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏</h2>
        <a href="{% url 'announcements:add_announcement' %}" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a>
    </div>

    {% if announcements %}
    <div class="list-group">
        {% for announcement in announcements %}
        
        <div class="list-group-item d-flex justify-content-between align-items-center mb-2 shadow-sm">
            <div>
                <img src="{{ announcement.image.url }}" alt="{{ announcement.title }}" 
     style="width:20rem; height:20rem; object-fit:cover;" class="me-3 rounded">
                <h5>{{ announcement.title }}</h5>
                <p class="mb-1">{{ announcement.content|truncatechars:100 }}</p>
                
                <small class="text-muted">{{ announcement.created_at|date:"d.m.Y H:i" }}</small>
                
            </div>
            
            <div>
                <a href="{% url 'announcements:edit_announcement' announcement.pk %}" class="btn btn-outline-success btn-sm me-2">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                <a href="{% url 'announcements:delete_announcement' announcement.pk %}" class="btn btn-outline-danger btn-sm">–£–¥–∞–ª–∏—Ç—å</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info text-center">–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π</div>
    {% endif %}
</div>
{% endblock %}
